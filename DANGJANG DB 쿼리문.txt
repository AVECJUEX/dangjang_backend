-- 스키마 생성문 --
create schema dangjang;

-- BOARD TABLE 생성문 --
CREATE TABLE `board` (
  `BOARD_SEQ` int NOT NULL AUTO_INCREMENT,
  `CATEGORY_CODE` char(2) NOT NULL,
  `TITLE` varchar(50) NOT NULL,
  `CONTENT` longtext NOT NULL,
  `IMAGE1` varchar(100) NOT NULL,
  `IMAGE2` varchar(100) DEFAULT NULL,
  `IMAGE3` varchar(100) DEFAULT NULL,
  `IMAGE4` varchar(100) DEFAULT NULL,
  `IMAGE5` varchar(100) DEFAULT NULL,
  `IMAGE6` varchar(100) DEFAULT NULL,
  `PRICE` varchar(50) NOT NULL,
  `USER_ID` varchar(50) NOT NULL,
  `WDATE` date DEFAULT NULL,
  `ZZIM_CNT` int DEFAULT NULL,
  `HIT` int DEFAULT NULL,
  `USER_SEQ` int NOT NULL,
  PRIMARY KEY (`BOARD_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  KEY `CATEGORY_CODE` (`CATEGORY_CODE`),
  CONSTRAINT `board_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`),
  CONSTRAINT `board_ibfk_2` FOREIGN KEY (`CATEGORY_CODE`) REFERENCES `category` (`CATEGORY_CODE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- CATEGORY TABLE 생성문 --
CREATE TABLE `category` (
  `CATEGORY_CODE` char(2) NOT NULL,
  `CATEGORY_NAME` varchar(50) NOT NULL,
  PRIMARY KEY (`CATEGORY_CODE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- CHATCONTENT TABLE 생성문 --
CREATE TABLE `chatcontent` (
  `CC_SEQ` int NOT NULL AUTO_INCREMENT,
  `WDATE` date DEFAULT NULL,
  `CONTENT` longtext NOT NULL,
  `CR_SEQ` int NOT NULL,
  `CK_STATUS` varchar(45) NOT NULL,
  PRIMARY KEY (`CC_SEQ`),
  KEY `CR_SEQ` (`CR_SEQ`),
  CONSTRAINT `chatcontent_ibfk_1` FOREIGN KEY (`CR_SEQ`) REFERENCES `chatroom` (`CR_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- CHATROOM TABLE 생성문 --
CREATE TABLE `chatroom` (
  `CR_SEQ` int NOT NULL AUTO_INCREMENT,
  `SELLER_STATUS` varchar(1) NOT NULL DEFAULT 'N',
  `BUYER_STATUS` varchar(1) NOT NULL DEFAULT 'N',
  `WDATE` date DEFAULT NULL,
  `SELLER_SEQ` int NOT NULL,
  `BUYER_SEQ` int NOT NULL,
  `BOARD_SEQ` int NOT NULL,
  PRIMARY KEY (`CR_SEQ`),
  KEY `BOARD_SEQ` (`BOARD_SEQ`),
  CONSTRAINT `chatroom_ibfk_1` FOREIGN KEY (`BOARD_SEQ`) REFERENCES `board` (`BOARD_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- FB_COMMENT TABLE 생성문 --
CREATE TABLE `fb_comment` (
  `FBCO_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_SEQ` int NOT NULL,
  `FREE_SEQ` int NOT NULL,
  `CONTENT` longtext NOT NULL,
  `WDATE` date DEFAULT NULL,
  PRIMARY KEY (`FBCO_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  KEY `FREE_SEQ` (`FREE_SEQ`),
  CONSTRAINT `fb_comment_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`),
  CONSTRAINT `fb_comment_ibfk_2` FOREIGN KEY (`FREE_SEQ`) REFERENCES `freeboard` (`FREE_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- FREEBOARD TABLE 생성문 --
CREATE TABLE `freeboard` (
  `FREE_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_ID` varchar(50) NOT NULL,
  `TITLE` varchar(50) NOT NULL,
  `CONTENT` longtext NOT NULL,
  `IMAGE` varchar(100) DEFAULT NULL,
  `WDATE` date DEFAULT NULL,
  `LIKE_CNT` int DEFAULT NULL,
  `HIT` int DEFAULT NULL,
  `USER_SEQ` int NOT NULL,
  PRIMARY KEY (`FREE_SEQ`),
  KEY `USER_SEQ_idx` (`USER_SEQ`),
  CONSTRAINT `freeboard_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- LIKE TABLE 생성문 --
CREATE TABLE `like` (
  `LIKE_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_SEQ` int NOT NULL,
  `FREE_SEQ` int NOT NULL,
  `LIKE` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`LIKE_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  KEY `FREE_SEQ` (`FREE_SEQ`),
  CONSTRAINT `like_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`),
  CONSTRAINT `like_ibfk_2` FOREIGN KEY (`FREE_SEQ`) REFERENCES `freeboard` (`FREE_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- NOTICE TABLE 생성문 --
CREATE TABLE `notice` (
  `NOTICE_SEQ` int NOT NULL AUTO_INCREMENT,
  `TITLE` varchar(50) NOT NULL,
  `CONTENT` longtext NOT NULL,
  `WDATE` date DEFAULT NULL,
  `HIT` int DEFAULT NULL,
  `USER_SEQ` int NOT NULL,
  PRIMARY KEY (`NOTICE_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  CONSTRAINT `notice_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- QNA TABLE 생성문 --
CREATE TABLE `qna` (
  `QNA_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_SEQ` int NOT NULL,
  `TITLE` varchar(50) NOT NULL,
  `CONTENT` longtext NOT NULL,
  `WDATE` date DEFAULT NULL,
  `HIT` int DEFAULT NULL,
  PRIMARY KEY (`QNA_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  CONSTRAINT `qna_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- QNA_COMMENT TABLE 생성문 --
CREATE TABLE `qna_comment` (
  `QNACO_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_SEQ` int NOT NULL,
  `QNA_SEQ` int NOT NULL,
  `CONTENT` longtext NOT NULL,
  `WDATE` date DEFAULT NULL,
  PRIMARY KEY (`QNACO_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  KEY `QNA_SEQ` (`QNA_SEQ`),
  CONSTRAINT `qna_comment_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`),
  CONSTRAINT `qna_comment_ibfk_2` FOREIGN KEY (`QNA_SEQ`) REFERENCES `qna` (`QNA_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- USER TABLE 생성문 --
CREATE TABLE `user` (
  `USER_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_ID` varchar(50) NOT NULL,
  `PASSWORD` varchar(50) NOT NULL,
  `NICK_NAME` varchar(50) NOT NULL,
  `NAME` varchar(40) NOT NULL,
  `EMAIL` varchar(30) NOT NULL,
  `PHONE` varchar(45) NOT NULL,
  `WDATE` date NOT NULL,
  `ADDRESS1` varchar(100) NOT NULL,
  `ADDRESS2` varchar(100) NOT NULL,
  `ZIPCODE` int NOT NULL,
  `IMAGES` varchar(100) DEFAULT NULL,
  `AT` varchar(10) NOT NULL,
  PRIMARY KEY (`USER_SEQ`),
  UNIQUE KEY `USER_ID_UNIQUE` (`USER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ZZIM TABLE 생성문 --
CREATE TABLE `zzim` (
  `ZZIM_SEQ` int NOT NULL AUTO_INCREMENT,
  `USER_SEQ` int NOT NULL,
  `BOARD_SEQ` int NOT NULL,
  `ZZIM` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`ZZIM_SEQ`),
  KEY `USER_SEQ` (`USER_SEQ`),
  KEY `BOARD_SEQ` (`BOARD_SEQ`),
  CONSTRAINT `zzim_ibfk_1` FOREIGN KEY (`USER_SEQ`) REFERENCES `user` (`USER_SEQ`),
  CONSTRAINT `zzim_ibfk_2` FOREIGN KEY (`BOARD_SEQ`) REFERENCES `board` (`BOARD_SEQ`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;